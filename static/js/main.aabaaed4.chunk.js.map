{"version":3,"sources":["components/MovieTabs/MovieTabs.js","components/Pagination/Pagination.js","components/MovieItem/MovieItem.js","components/App/App.js","utils/apiData.js","index.js"],"names":["MovieTabs","props","handleClick","sortValue","sort","getClassByValue","value","sortBy","className","onClick","Pagination","totalPages","type","disabled","currentPage","prevPage","nextPage","MovieItem","state","willWatchBtn","this","movie","deleteMovie","willWatch","willWatchDelete","key","id","src","backdrop_path","alt","title","vote_average","setState","React","Component","App","updatedMovies","movies","filter","el","updatedWillWatch","deleteFromWillWatch","delFromWillWatch","willWatchHandler","newState","willWatchDeleteHandler","sortByHandler","sortType","getMovies","fetch","then","response","json","data","console","log","results","page","total_pages","nextPageHandler","prevPageHandler","justForTest","param","prevProps","prevState","map","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aabaaed4.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./MovieTabs.css\";\n\nfunction MovieTabs(props) {\n  const handleClick = (sortValue) => () => props.sort(sortValue);\n\n  const getClassByValue = (value) => {\n    return props.sortBy === value ? \"btn btn-active\" : \"btn\";\n  };\n\n  return (\n    <div className=\"d-flex-btn\">\n      <div className=\"btn-inner\">\n        <button\n          className={getClassByValue(\"popularity.desc\")}\n          onClick={handleClick(\"popularity.desc\")}\n        >\n          Popularity\n        </button>\n      </div>\n      <div className=\"btn-inner\">\n        <button\n          className={getClassByValue(\"revenue.desc\")}\n          onClick={handleClick(\"revenue.desc\")}\n        >\n          Revenue\n        </button>\n      </div>\n      <div className=\"btn-inner\">\n        <button\n          className={getClassByValue(\"vote_average.desc\")}\n          onClick={handleClick(\"vote_average.desc\")}\n        >\n          Vote avg\n        </button>\n      </div>\n    </div>\n  );\n}\nexport default MovieTabs;\n","import React from \"react\";\nimport \"./Pagination.css\";\n\nfunction Pagination(props) {\n  return (\n    <>\n      <div className=\"total-pages\">\n        <p className=\"total-pages-nested\">Total pages: {props.totalPages}</p>\n      </div>\n      <div className=\"pagination\">\n        <button type=\"button\" className=\"btn-prev\" disabled={props.currentPage === 1 ? true : false} onClick={props.prevPage}>\n          Prev\n        </button>\n        <p className=\"current\">{props.currentPage}</p>\n        <button type=\"button\" className=\"btn-next\" disabled={props.currentPage === 500 ? true : false} onClick={props.nextPage}>\n          Next\n        </button>\n      </div>\n    </>\n  );\n}\nexport default Pagination;\n","import React from \"react\";\nimport \"./MovieItem.css\";\n\nclass MovieItem extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      willWatchBtn: false,\n    };\n  }\n\n  render() {\n    const { movie, deleteMovie, willWatch, willWatchDelete } = this.props;\n    return (\n      <div key={movie.id} className=\"card\">\n        <img\n          className=\"poster\"\n          src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path}`}\n          alt=\"\"\n        />\n        <p className=\"title\">{movie.title}</p>\n        <p className=\"rating\">Rating: {movie.vote_average}</p>\n\n        {this.state.willWatchBtn ? (\n          <button \n          className=\"will-watch-btn-active\"\n          onClick={() => {\n            this.setState({\n              willWatchBtn: false\n            })\n            willWatchDelete(movie)\n          }}\n          >\n            Will watch\n          </button>\n        ) : (\n          <button\n            className=\"will-watch-btn\"\n            onClick={() => {\n              this.setState({\n                willWatchBtn: true,\n              });\n\n              willWatch(movie);\n            }}\n          >\n            Will watch\n          </button>\n        )}\n\n        <button className=\"delete\" onClick={() => deleteMovie(movie)}>\n          Delete\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\nimport \"./App.css\";\n\nimport MovieTabs from \"../MovieTabs/MovieTabs\";\nimport Pagination from '../Pagination/Pagination';\n\nimport { API_KEY_3, API_URL, CORS_PROXY } from \"../../utils/apiData\";\n\n//import moviesData from \"../../data/moviesData\";\n\nimport MoviesItem from \"../MovieItem/MovieItem\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      willWatch: [],\n      sortBy: \"popularity.desc\",\n      currentPage: null,\n      totalPages: null\n    };\n\n    console.log(\"constructor\");\n  }\n\n  deleteMovie = (movie) => {\n    let updatedMovies = this.state.movies.filter((el) => {\n      return el.id !== movie.id;\n    });\n\n    let updatedWillWatch = this.deleteFromWillWatch(movie);\n\n    this.setState({\n      movies: updatedMovies,\n      willWatch: updatedWillWatch,\n    });\n  };\n\n  deleteFromWillWatch = (movie) => {\n    let updatedWillWatch = this.state.willWatch.filter((el) => {\n      return el.id !== movie.id;\n    })\n    return updatedWillWatch;\n  }\n\n  delFromWillWatch = (movie) => {\n    let updatedWillWatch = this.state.willWatch.filter((el) => {\n      return el.id !== movie.id;\n    })\n\n    this.setState({\n      willWatch: updatedWillWatch\n    })\n  }\n\n  willWatchHandler = (movie) => {\n    const newState = [...this.state.willWatch, movie];\n\n    this.setState({\n      willWatch: newState,\n    });\n  };\n\n  willWatchDeleteHandler = (movie) => {\n    let updatedWillWatch = this.state.willWatch.filter(\n      (el) => el.id !== movie.id\n    );\n\n    this.setState({\n      willWatch: updatedWillWatch,\n    });\n  };\n\n  sortByHandler = (sortType) => {\n    this.setState({\n      sortBy: sortType,\n      currentPage: 1\n    })\n  }\n\n  getMovies = () => {\n    fetch(\n      `${CORS_PROXY}${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sortBy}&page=${this.state.currentPage}`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"fetching\");\n        this.setState({\n          movies: data.results,\n          currentPage: data.page,\n          totalPages: data.total_pages\n        });\n      });\n  }\n\n  nextPageHandler = () => {\n    if(this.state.currentPage !== 500) {\n      this.setState({\n        currentPage: this.state.currentPage + 1\n      });\n    } else {\n      return;\n    }\n  }\n\n  prevPageHandler = () => {\n    if(this.state.currentPage !== 1) {\n      this.setState({\n        currentPage: this.state.currentPage - 1\n      })\n    } else {\n      return;\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"did mount\");\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevState.sortBy !== this.state.sortBy) {\n      this.getMovies();\n    }\n    if(prevState.currentPage !== this.state.currentPage) {\n      this.getMovies();\n    }\n  }\n\n  justForTest = (param) => {\n    console.log(param.id);\n    console.log('clicked');\n  }\n\n  render() {\n    console.log(\"render\");\n    return (\n      <div className=\"container\">\n        <div className=\"tabs\">\n          <div className=\"tabs-inner\">\n            <MovieTabs \n              sortBy={this.state.sortBy}\n              sort={this.sortByHandler} />\n          </div>\n        </div>\n        <div className=\"pagination-container\">\n          <Pagination \n            currentPage={this.state.currentPage}\n            totalPages={this.state.totalPages}\n            nextPage={this.nextPageHandler}\n            prevPage={this.prevPageHandler}\n          />\n        </div>\n        <div className=\"d-flex\">\n          <div className=\"grid\">\n            {this.state.movies.map((movie) => {\n              return (\n                <MoviesItem\n                  key={movie.id}\n                  movie={movie}\n                  deleteMovie={this.deleteMovie}\n                  willWatch={this.willWatchHandler}\n                  willWatchDelete={this.willWatchDeleteHandler}\n                />\n              );\n            })}\n          </div>\n          <div className=\"will-watch\">\n            <div className=\"will-watch-nested\">\n              <p>Will watch: {this.state.willWatch.length}</p>\n              {this.state.willWatch.map((el) => {\n                return(\n                  <div key={el.id}>\n                      <p onClick={() => this.delFromWillWatch(el)}>{el.title}</p>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n        </div>\n        <Pagination  \n            currentPage={this.state.currentPage}\n            totalPages={this.state.totalPages}\n            nextPage={this.nextPageHandler}\n            prevPage={this.prevPageHandler}\n          />\n      </div>\n    );\n  }\n}\nexport default App;\n","export const API_URL = 'https://api.themoviedb.org/3';\nexport const API_KEY_3 = 'dd4d3580d5d050f5ede3676f3a13bb25';\nexport const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}